<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup
    x:Class="QuanLyDaiLyHD.Views.DaiLyViews.ThemDaiLyWindow"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    xmlns:viewmodels="clr-namespace:QuanLyDaiLyHD.ViewModels.DaiLyViewModels"
    x:DataType="viewmodels:ThemDaiLyWindowViewModel"
    CanBeDismissedByTappingOutsideOfPopup="False"
    Size="960,542"
    Color="Transparent">

    <Border
        BackgroundColor="White"
        HeightRequest="542"
        HorizontalOptions="Center"
        Stroke="LightGray"
        StrokeThickness="2"
        VerticalOptions="Center"
        WidthRequest="960">
        <Border.StrokeShape>
            <RoundRectangle CornerRadius="11" />
        </Border.StrokeShape>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="80" />
                <RowDefinition Height="1" />
                <RowDefinition Height="381" />
                <RowDefinition Height="1" />
                <RowDefinition Height="80" />
            </Grid.RowDefinitions>

            <BoxView Grid.Row="1" Color="LightGray" />
            <BoxView Grid.Row="3" Color="LightGray" />

            <!--  Header  -->
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <Label
                    Grid.Column="0"
                    Margin="20,0,0,0"
                    FontAttributes="Bold"
                    FontSize="18"
                    Text="Tiáº¿p nháº­n Ä‘áº¡i lÃ½"
                    VerticalOptions="Center" />

                <Button
                    Grid.Column="1"
                    Margin="0,0,20,0"
                    BackgroundColor="Red"
                    Command="{Binding CloseWindowCommand}"
                    FontSize="16"
                    HeightRequest="40"
                    Text="âœ•"
                    TextColor="White"
                    VerticalOptions="Center"
                    WidthRequest="40" />
            </Grid>

            <!--  Content  -->
            <ScrollView Grid.Row="2">
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!--  Line 1: MÃ£ Äáº¡i lÃ½, Quáº­n, Sá»‘ lÆ°á»£ng Äáº¡i lÃ½ hiá»‡n cÃ³ trong Quáº­n, NgÃ y tiáº¿p nháº­n  -->
                    <Grid
                        Grid.Row="0"
                        Margin="0,10"
                        ColumnSpacing="15"
                        RowSpacing="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!--  MÃ£ Ä‘áº¡i lÃ½  -->
                        <VerticalStackLayout Grid.Column="0" Spacing="5">
                            <Label FontAttributes="Bold" Text="MÃ£ Ä‘áº¡i lÃ½" />
                            <Entry
                                BackgroundColor="LightGray"
                                IsReadOnly="True"
                                Text="{Binding MaDaiLy}" />
                        </VerticalStackLayout>

                        <!--  Quáº­n  -->
                        <VerticalStackLayout Grid.Column="1" Spacing="5">
                            <Label FontAttributes="Bold" Text="Quáº­n" />
                            <Picker
                                ItemDisplayBinding="{Binding TenQuan}"
                                ItemsSource="{Binding Quans}"
                                SelectedItem="{Binding SelectedQuan}" />
                        </VerticalStackLayout>

                        <!--  Sá»‘ lÆ°á»£ng Äáº¡i lÃ½ hiá»‡n cÃ³ trong Quáº­n  -->
                        <VerticalStackLayout Grid.Column="2" Spacing="5">
                            <Label FontAttributes="Bold" Text="SL Äáº¡i lÃ½ hiá»‡n cÃ³" />
                            <Entry
                                BackgroundColor="LightGray"
                                IsReadOnly="True"
                                Text="{Binding SoLuongDaiLyHienCo}" />
                        </VerticalStackLayout>

                        <!--  NgÃ y tiáº¿p nháº­n  -->
                        <Grid Grid.Column="3" RowSpacing="5">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Label
                                Grid.Row="0"
                                FontAttributes="Bold"
                                Text="NgÃ y tiáº¿p nháº­n" />
                            <DatePicker
                                Grid.Row="1"
                                Date="{Binding NgayTiepNhan}"
                                HorizontalOptions="Fill" />
                        </Grid>
                    </Grid>

                    <!--  Line 2: TÃªn Äáº¡i LÃ½, Quy Ä‘á»‹nh Sá»‘ lÆ°á»£ng Äáº¡i lÃ½ tá»‘i Ä‘a trong Quáº­n  -->
                    <Grid
                        Grid.Row="1"
                        Margin="0,10"
                        ColumnSpacing="15"
                        RowSpacing="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!--  TÃªn Ä‘áº¡i lÃ½  -->
                        <VerticalStackLayout Grid.Column="0" Spacing="5">
                            <Label FontAttributes="Bold" Text="TÃªn Ä‘áº¡i lÃ½" />
                            <Entry Placeholder="Nháº­p tÃªn Ä‘áº¡i lÃ½" Text="{Binding TenDaiLy}" />
                        </VerticalStackLayout>

                        <!--  Quy Ä‘á»‹nh Sá»‘ lÆ°á»£ng Äáº¡i lÃ½ tá»‘i Ä‘a trong Quáº­n  -->
                        <VerticalStackLayout Grid.Column="1" Spacing="5">
                            <Label FontAttributes="Bold" Text="SL Äáº¡i lÃ½ tá»‘i Ä‘a" />
                            <Entry
                                BackgroundColor="LightGray"
                                IsReadOnly="True"
                                Text="{Binding SoLuongDaiLyToiDa}" />
                        </VerticalStackLayout>
                    </Grid>

                    <!--  Line 3: Loáº¡i Äáº¡i lÃ½, Sá»‘ Ä‘iá»‡n thoáº¡i, Email  -->
                    <Grid
                        Grid.Row="2"
                        Margin="0,10"
                        ColumnSpacing="15"
                        RowSpacing="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!--  Loáº¡i Ä‘áº¡i lÃ½  -->
                        <VerticalStackLayout Grid.Column="0" Spacing="5">
                            <Label FontAttributes="Bold" Text="Loáº¡i Ä‘áº¡i lÃ½" />
                            <Picker
                                ItemDisplayBinding="{Binding TenLoaiDaiLy}"
                                ItemsSource="{Binding LoaiDaiLies}"
                                SelectedItem="{Binding SelectedLoaiDaiLy}" />
                        </VerticalStackLayout>

                        <!--  Sá»‘ Ä‘iá»‡n thoáº¡i  -->
                        <VerticalStackLayout Grid.Column="1" Spacing="5">
                            <Label FontAttributes="Bold" Text="Sá»‘ Ä‘iá»‡n thoáº¡i" />
                            <Entry
                                Keyboard="Telephone"
                                Placeholder="Nháº­p sá»‘ Ä‘iá»‡n thoáº¡i"
                                Text="{Binding SoDienThoai}" />
                        </VerticalStackLayout>

                        <!--  Email  -->
                        <VerticalStackLayout Grid.Column="2" Spacing="5">
                            <Label FontAttributes="Bold" Text="Email" />
                            <Entry
                                Keyboard="Email"
                                Placeholder="Nháº­p email"
                                Text="{Binding Email}" />
                        </VerticalStackLayout>
                    </Grid>

                    <!--  Line 4: Äá»‹a chá»‰  -->
                    <VerticalStackLayout
                        Grid.Row="3"
                        Margin="0,10"
                        Spacing="5">
                        <Label FontAttributes="Bold" Text="Äá»‹a chá»‰" />
                        <Editor Placeholder="Nháº­p Ä‘á»‹a chá»‰" Text="{Binding DiaChi}" />
                    </VerticalStackLayout>
                </Grid>
            </ScrollView>

            <!--  Footer Buttons  -->
            <HorizontalStackLayout
                Grid.Row="4"
                HorizontalOptions="Center"
                Spacing="15"
                VerticalOptions="Center">

                <Button
                    BackgroundColor="#00AAFF"
                    Command="{Binding TiepNhanDaiLyCommand}"
                    Text="âž• Tiáº¿p nháº­n Ä‘áº¡i lÃ½"
                    TextColor="White"
                    WidthRequest="200" />

                <Button
                    BackgroundColor="#00AAFF"
                    Command="{Binding DaiLyMoiCommand}"
                    Text="ðŸ”„ Äáº¡i lÃ½ má»›i"
                    TextColor="White"
                    WidthRequest="200" />

                <Button
                    BackgroundColor="#00AAFF"
                    Command="{Binding CloseWindowCommand}"
                    Text="ðŸšª ThoÃ¡t"
                    TextColor="White"
                    WidthRequest="200" />
            </HorizontalStackLayout>
        </Grid>
    </Border>
</toolkit:Popup>